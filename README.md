# ๐จ๏ธ CloudChef Print Server

WebSocket ัะตัะฒะตั ะดะปั ะผะฐัััััะธะทะฐัะธะธ ะบะพะผะฐะฝะด ะฟะตัะฐัะธ ะผะตะถะดั ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะตะผ CloudChef ะธ ะฐะณะตะฝัะฐะผะธ ะฟัะธะฝัะตัะฐ.

## ๐ ะัััััะน ััะฐัั

### 1. ะะตะฟะปะพะน ะฝะฐ Vercel

```bash
# ะะปะพะฝะธััะนัะต ะฟัะพะตะบั
cd cloudchef-print-server

# ะฃััะฐะฝะพะฒะธัะต Vercel CLI
npm install -g vercel

# ะะตะฟะปะพะน
vercel --prod
```

### 2. ะะพะปััะธัะต URL ัะตัะฒะตัะฐ

ะะพัะปะต ะดะตะฟะปะพั ะฟะพะปััะธัะต URL ะฒะธะดะฐ: `https://cloudchef-print-server.vercel.app`

### 3. ะะฐัััะพะนัะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต

ะ ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะธ ะธัะฟะพะปัะทัะนัะต ััะพั URL ะดะปั ะฟะพะดะบะปััะตะฝะธั:

```javascript
const socket = io('https://cloudchef-print-server.vercel.app');

// ะะตะณะธัััะฐัะธั ะฑัะฐัะทะตัะฐ
socket.emit('register_browser', {
  code: '123456', // 6-ะทะฝะฐัะฝัะน ะบะพะด
  userInfo: {
    email: 'user@example.com',
    restaurant: 'My Restaurant'
  }
});

// ะัะฟัะฐะฒะบะฐ ะบะพะผะฐะฝะดั ะฟะตัะฐัะธ
socket.emit('print_command', {
  jobId: 'label_001',
  labelData: {
    name: 'ะััะธะฝะพะต ัะธะปะต',
    expiry: '2024-01-15',
    chef: 'ะะปะตะบัะตะน',
    category: 'ะััะพ'
  },
  settings: {
    copies: 1,
    priority: 'normal'
  }
});
```

## ๐ ะกะพะฑััะธั WebSocket

### ะัะฐัะทะตั โ ะกะตัะฒะตั

- `register_browser` - ะะตะณะธัััะฐัะธั ะฒะตะฑ-ะฑัะฐัะทะตัะฐ
- `print_command` - ะะพะผะฐะฝะดะฐ ะฟะตัะฐัะธ ััะธะบะตัะบะธ

### ะกะตัะฒะตั โ ะัะฐัะทะตั  

- `registered` - ะะพะดัะฒะตัะถะดะตะฝะธะต ัะตะณะธัััะฐัะธะธ
- `agent_connected` - ะะณะตะฝั ะฟะพะดะบะปััะธะปัั
- `agent_disconnected` - ะะณะตะฝั ะพัะบะปััะธะปัั
- `print_sent` - ะะพะผะฐะฝะดะฐ ะพัะฟัะฐะฒะปะตะฝะฐ ะฐะณะตะฝัั
- `print_result` - ะะตะทัะปััะฐั ะฟะตัะฐัะธ

### ะะณะตะฝั โ ะกะตัะฒะตั

- `register_agent` - ะะตะณะธัััะฐัะธั ะฐะณะตะฝัะฐ ะฟัะธะฝัะตัะฐ
- `print_result` - ะะตะทัะปััะฐั ะฟะตัะฐัะธ
- `agent_heartbeat` - Keep-alive ัะธะณะฝะฐะป

### ะกะตัะฒะตั โ ะะณะตะฝั

- `registered` - ะะพะดัะฒะตัะถะดะตะฝะธะต ัะตะณะธัััะฐัะธะธ  
- `print_job` - ะะฐะดะฐะฝะธะต ะฝะฐ ะฟะตัะฐัั

## ๐ ะกะธััะตะผะฐ ะบะพะดะพะฒ

- **6-ะทะฝะฐัะฝัะน ะบะพะด** ะณะตะฝะตัะธััะตััั ะฒ ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะธ
- **ะะพััะพัะฝะฝะพะต ะดะตะนััะฒะธะต** ะดะพ ัะพะทะดะฐะฝะธั ะฝะพะฒะพะณะพ ะบะพะดะฐ
- **ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะฟััะถะตะฝะธะต** ะฑัะฐัะทะตัะฐ ะธ ะฐะณะตะฝัะฐ ะฟะพ ะบะพะดั
- **ะกัะฐัััั ะฟะพะดะบะปััะตะฝะธั** ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

## ๐ก๏ธ ะะตะทะพะฟะฐัะฝะพััั

- CORS ะฝะฐัััะพะตะฝ ะดะปั ะฒัะตั ะธััะพัะฝะธะบะพะฒ (ะผะพะถะฝะพ ะพะณัะฐะฝะธัะธัั ะฒ ะฟัะพะดะฐะบัะตะฝะต)
- ะะพะด ัะพะฟััะถะตะฝะธั - ะตะดะธะฝััะฒะตะฝะฝะฐั ะฐะฒัะพัะธะทะฐัะธั  
- ะะพะณะธัะพะฒะฐะฝะธะต ะฒัะตั ะดะตะนััะฒะธะน
- ะะฒัะพะผะฐัะธัะตัะบะฐั ะพัะธััะบะฐ ะพัะบะปััะตะฝะฝัั ัะพะตะดะธะฝะตะฝะธะน

## ๐ ะะพะฝะธัะพัะธะฝะณ

ะกะตัะฒะตั ะปะพะณะธััะตั:
- ะะพะดะบะปััะตะฝะธั/ะพัะบะปััะตะฝะธั
- ะะพะผะฐะฝะดั ะฟะตัะฐัะธ  
- ะัะธะฑะบะธ
- ะกัะฐัะธััะธะบั ะบะฐะถะดัะต 30 ัะตะบัะฝะด

## ๐ง ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

```bash
# ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
npm install

# ะะฐะฟัััะธัะต ะปะพะบะฐะปัะฝะพ
vercel dev
```

### ะขะตััะธัะพะฒะฐะฝะธะต

ะัะบัะพะนัะต `test.html` ะฒ ะฑัะฐัะทะตัะต ะดะปั ัะตััะธัะพะฒะฐะฝะธั ะฟะพะดะบะปััะตะฝะธั.

## ๐ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    WebSocket    โโโโโโโโโโโโโโโโโโโ
โ  Web App        โ โโโโโโโโโโโโโโโโ โ  Vercel Server  โ
โ  (Browser)      โ     Socket.io    โ  (Node.js)      โ
โโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโ
                                             โ
                                       WebSocket
                                       Socket.io
                                     โโโโโโโโโโโโโโโโโโโ
                                     โ  Print Agent    โ
                                     โ  (Electron)     โ
                                     โโโโโโโโโโโโโโโโโโโ
```

## ๐ฆ ะะฐะฒะธัะธะผะพััะธ

- `socket.io` - WebSocket ะบะพะผะผัะฝะธะบะฐัะธั
- `@vercel/node` - Vercel Serverless Functions
- `cors` - Cross-Origin Resource Sharing

## ๐จ ะะธะผะธัั Vercel

- **ะะฐะบัะธะผะฐะปัะฝะพะต ะฒัะตะผั ะฒัะฟะพะปะฝะตะฝะธั:** 30 ัะตะบัะฝะด (ะฝะฐัััะพะตะฝะพ)
- **WebSocket:** ะะพะดะดะตัะถะธะฒะฐะตััั ัะตัะตะท Socket.io
- **Memory:** 1024 MB
- **Concurrent connections:** ะะพ 1000 ะพะดะฝะพะฒัะตะผะตะฝะฝัั ะฟะพะดะบะปััะตะฝะธะน

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ ะฟัะพะฒะตัััะต:
1. URL ัะตัะฒะตัะฐ ะบะพััะตะบัะฝัะน
2. ะะพะด ัะพะฟััะถะตะฝะธั ะฟัะฐะฒะธะปัะฝัะน (6 ัะธัั)
3. ะะพะฝัะพะปั ะฑัะฐัะทะตัะฐ ะฝะฐ ะฟัะตะดะผะตั ะพัะธะฑะพะบ WebSocket
4. ะะพะณะธ Vercel Functions
